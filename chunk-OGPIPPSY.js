import{a as U}from"./chunk-OZQY6UJU.js";import"./chunk-KG7CA54S.js";import{A as l,B as S,D as E,E as M,F as w,K as L,M as $,R as O,V as P,a as b,b as k,c as u,g as y,j as v,k as m,l as c,m as x,n as d,o as _,p as h,q as T,r as g,s as I,t as F,u as r,v as a,w as f,z as s}from"./chunk-TIYW3HBA.js";var A=(e,i)=>i.container.collectionURI,K=(e,i)=>i.url;function j(e,i){if(e&1&&(r(0,"div",5),f(1,"img",6),a()),e&2){let n=s();c(1),d("src",n.buildThumbnailPath(n.marvelThumbnail()),v)}}function W(e,i){if(e&1&&(r(0,"div",7)(1,"panel",8)(2,"p"),l(3),a()()()),e&2){let n=s(),t;c(3),S((t=n.character())==null?null:t.description)}}var z=()=>[import("./chunk-ZBLNUC36.js").then(e=>e.ItemsContainerComponent)];function N(e,i){if(e&1&&f(0,"items-container",9),e&2){let n=s(2).$implicit;d("container",n.container)("title",n.title)}}function R(e,i){e&1&&f(0,"img",10)}function V(e,i){e&1&&(r(0,"p"),l(1,"Marvel item container"),a())}function B(e,i){e&1&&(r(0,"p"),l(1,"An loading error occured"),a())}function H(e,i){e&1&&(r(0,"div",7),_(1,N,1,2)(2,R,1,0)(3,V,2,0)(4,B,2,0),I(5,1,z,2,3,4),F(0,-1),a())}function q(e,i){if(e&1&&_(0,H,7,0,"div",4),e&2){let n=i.$implicit;h(0,n.container.items&&n.container.items.length>0?0:-1)}}function G(e,i){if(e&1&&(r(0,"a",11),l(1),a()),e&2){let n=s().$implicit,t=s();d("href",n.url,v),c(1),S(t.mapTypeToLinkText(n.type))}}function J(e,i){e&1&&f(0,"img",10)}function Q(e,i){e&1&&(r(0,"p"),l(1,"Marvel item container"),a())}function X(e,i){e&1&&(r(0,"p"),l(1,"An loading error occured"),a())}function Y(e,i){e&1&&(_(0,G,2,2)(1,J,1,0)(2,Q,2,0)(3,X,2,0),I(4,0,null,1,2,3),F(0,-1))}var Z=()=>({icon:"list.svg",to:"/character-list"}),ee=e=>[e],C=function(e){return e.DETAIL="detail",e.WIKI="wiki",e.COMIC_LINK="comiclink",e}(C||{}),se=(()=>{let i=class i{constructor(t,o){this.route=t,this.charactersService=o,this.title=m(""),this.character=m(void 0),this.marvelThumbnail=m(void 0),this.itemsContainer=m([]),this.marvelUrls=m([])}ngOnInit(){this.route.paramMap.pipe(b(t=>parseInt(t.get("id")||"")),k(t=>this.charactersService.getById(t)),u(t=>{this.character.set(t?.data?.results[0]),t.code===404?this.title.set(`${t?.status}`):this.title.set(`Character ${this.character()?.name}`)}),u(()=>{let t=this.character();t&&(this.itemsContainer.set([{title:"Comics",container:t.comics},{title:"Stories",container:t.stories},{title:"Events",container:t.events},{title:"Series",container:t.series}]),this.marvelUrls.set(t.urls),this.marvelThumbnail.set(t.thumbnail))})).subscribe()}mapTypeToLinkText(t){let o="";switch(t){case C.DETAIL:o="Detail";break;case C.WIKI:o="Wiki";break;case C.COMIC_LINK:o="Comic Link";break}return o}buildThumbnailPath(t){return t?`${t.path}/landscape_incredible.${t.extension}`:""}};i.\u0275fac=function(o){return new(o||i)(x($),x(U))},i.\u0275cmp=y({type:i,selectors:[["character"]],standalone:!0,features:[E],decls:13,vars:7,consts:[[1,"row"],[1,"col"],[3,"title","actions"],["class","col center"],["class","col section--min-width"],[1,"col","center"],["alt","Loading...",3,"src"],[1,"col","section--min-width"],["title","Description"],[3,"container","title"],["src","assets/images/loading.gif","alt","Loading..."],["target","_blank",1,"link",3,"href"]],template:function(o,p){if(o&1&&(r(0,"div",0)(1,"div",1)(2,"panel",2)(3,"div",0),_(4,j,2,1,"div",3)(5,W,4,1,"div",4),a(),r(6,"div",0),T(7,q,1,1,null,null,A),a(),r(9,"div",0)(10,"div",1),T(11,Y,6,0,null,null,K),a()()()()()),o&2){let D;c(2),d("title",p.title())("actions",w(5,ee,M(4,Z))),c(2),h(4,p.marvelThumbnail()?4:-1),c(1),h(5,(D=p.character())!=null&&D.description?5:-1),c(2),g(p.itemsContainer()),c(4),g(p.marvelUrls())}},dependencies:[P,O,L],styles:[".link[_ngcontent-%COMP%]{margin-right:1.25rem}.section--min-width[_ngcontent-%COMP%]{min-width:28rem}.center[_ngcontent-%COMP%]{display:flex;justify-content:center}"]});let e=i;return e})();export{se as CharacterComponent};
