import{a as U}from"./chunk-Y73ZGC6L.js";import"./chunk-D4BRUKWR.js";import{A as s,B as l,C as S,E,F as M,G as w,L,N as $,T as O,X as P,a as b,b as k,c as u,g as y,k as v,l as c,m as x,n as m,o as d,p as T,q as g,r as _,s as h,t as I,u as F,v as r,w as a,x as f}from"./chunk-MJ3IWQ36.js";var A=(e,i)=>i.container.collectionURI,K=(e,i)=>i.url,j=()=>[import("./chunk-VNJOUP6L.js").then(e=>e.ItemsContainerComponent)],W=()=>({icon:"list.svg",to:"/character-list"}),z=e=>[e];function N(e,i){if(e&1&&(r(0,"div",3),f(1,"img",5),a()),e&2){let n=s();c(),_("src",n.buildThumbnailPath(n.marvelThumbnail()),v)}}function R(e,i){if(e&1&&(r(0,"div",4)(1,"panel",6)(2,"p"),l(3),a()()()),e&2){let n,t=s();c(3),S((n=t.character())==null?null:n.description)}}function V(e,i){if(e&1&&f(0,"items-container",7),e&2){let n=s(2).$implicit;_("container",n.container)("title",n.title)}}function B(e,i){e&1&&f(0,"img",8)}function H(e,i){e&1&&(r(0,"p"),l(1,"Marvel item container"),a())}function q(e,i){e&1&&(r(0,"p"),l(1,"An loading error occured"),a())}function G(e,i){e&1&&(r(0,"div",4),d(1,V,1,2)(2,B,1,0)(3,H,2,0)(4,q,2,0),T(5,1,j,2,3,4),g(0,-1),a())}function J(e,i){if(e&1&&d(0,G,7,0,"div",4),e&2){let n=i.$implicit;h(0,n.container.items&&n.container.items.length>0?0:-1)}}function Q(e,i){if(e&1&&(r(0,"a",9),l(1),a()),e&2){let n=s().$implicit,t=s();_("href",n.url,v),c(),S(t.mapTypeToLinkText(n.type))}}function X(e,i){e&1&&f(0,"img",8)}function Y(e,i){e&1&&(r(0,"p"),l(1,"Marvel item container"),a())}function Z(e,i){e&1&&(r(0,"p"),l(1,"An loading error occured"),a())}function ee(e,i){e&1&&(d(0,Q,2,2)(1,X,1,0)(2,Y,2,0)(3,Z,2,0),T(4,0,null,1,2,3),g(0,-1))}var C=function(e){return e.DETAIL="detail",e.WIKI="wiki",e.COMIC_LINK="comiclink",e}(C||{}),se=(()=>{let i=class i{constructor(t,o){this.route=t,this.charactersService=o,this.title=m(""),this.character=m(void 0),this.marvelThumbnail=m(void 0),this.itemsContainer=m([]),this.marvelUrls=m([])}ngOnInit(){this.route.paramMap.pipe(b(t=>parseInt(t.get("id")||"")),k(t=>this.charactersService.getById(t)),u(t=>{this.character.set(t?.data?.results[0]),t.code===404?this.title.set(`${t?.status}`):this.title.set(`Character ${this.character()?.name}`)}),u(()=>{let t=this.character();t&&(this.itemsContainer.set([{title:"Comics",container:t.comics},{title:"Stories",container:t.stories},{title:"Events",container:t.events},{title:"Series",container:t.series}]),this.marvelUrls.set(t.urls),this.marvelThumbnail.set(t.thumbnail))})).subscribe()}mapTypeToLinkText(t){let o="";switch(t){case C.DETAIL:o="Detail";break;case C.WIKI:o="Wiki";break;case C.COMIC_LINK:o="Comic Link";break}return o}buildThumbnailPath(t){return t?`${t.path}/landscape_incredible.${t.extension}`:""}};i.\u0275fac=function(o){return new(o||i)(x($),x(U))},i.\u0275cmp=y({type:i,selectors:[["character"]],standalone:!0,features:[E],decls:13,vars:7,consts:[[1,"row"],[1,"col"],[3,"title","actions"],[1,"col","center"],[1,"col","section--min-width"],["alt","Loading...",3,"src"],["title","Description"],[3,"container","title"],["src","assets/images/loading.gif","alt","Loading..."],["target","_blank",1,"link",3,"href"]],template:function(o,p){if(o&1&&(r(0,"div",0)(1,"div",1)(2,"panel",2)(3,"div",0),d(4,N,2,1,"div",3)(5,R,4,1,"div",4),a(),r(6,"div",0),I(7,J,1,1,null,null,A),a(),r(9,"div",0)(10,"div",1),I(11,ee,6,0,null,null,K),a()()()()()),o&2){let D;c(2),_("title",p.title())("actions",w(5,z,M(4,W))),c(2),h(4,p.marvelThumbnail()?4:-1),c(),h(5,(D=p.character())!=null&&D.description?5:-1),c(2),F(p.itemsContainer()),c(4),F(p.marvelUrls())}},dependencies:[P,O,L],styles:[".link[_ngcontent-%COMP%]{margin-right:1.25rem}.section--min-width[_ngcontent-%COMP%]{min-width:28rem}.center[_ngcontent-%COMP%]{display:flex;justify-content:center}"]});let e=i;return e})();export{se as CharacterComponent};
