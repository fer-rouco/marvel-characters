import{c as I}from"./chunk-I26ZZ6MX.js";import{A as p,B as v,D as h,I as C,M as w,O as M,P as y,R as S,S as b,T as _,g as f,k as l,l as a,m,n as d,u as o,v as r,w as c,y as g}from"./chunk-NKJZYMUE.js";var R=(()=>{let t=class t{constructor(i,e){this.sessionService=i,this.router=e,this.model=l(new u),this.errorMessage=l("")}ngOnInit(){}doLogin(){let i=this.model();this.sessionService.logIn(i.user,i.password).subscribe(()=>{this.router.navigateByUrl("/character-list")},e=>{e.status===401&&this.errorMessage.set("Contrase\xF1a incorrecta."),e.status===404&&this.errorMessage.set("Usuario no encontrado.")})}};t.\u0275fac=function(e){return new(e||t)(m(I),m(w))},t.\u0275cmp=f({type:t,selectors:[["login"]],standalone:!0,features:[h],decls:18,vars:3,consts:[[1,"row"],[1,"col","center"],[1,"login"],["title","Login"],[1,"col"],["attr","user","label","User",3,"model"],["attr","password","label","Password",3,"model"],[1,"error-message--color"],["label","Login","title","Login",3,"click"]],template:function(e,s){e&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"panel",3)(4,"div",0)(5,"div",4),c(6,"text-field",5),r()(),o(7,"div",0)(8,"div",4),c(9,"password-field",6),r()(),o(10,"div",0)(11,"div",1)(12,"span",7),p(13),r()()(),o(14,"div",0)(15,"div",1)(16,"custom-button",8),g("click",function(){return s.doLogin()}),p(17,"Login"),r()()()()()()()),e&2&&(a(6),d("model",s.model()),a(3),d("model",s.model()),a(4),v(s.errorMessage()))},dependencies:[_,y,S,b,M,C],styles:[".login[_ngcontent-%COMP%]{max-width:20rem}.center[_ngcontent-%COMP%]{display:flex;justify-content:center}.error-message--color[_ngcontent-%COMP%]{color:red}"]});let n=t;return n})(),u=class{constructor(){this.user="",this.password=""}};export{R as LoginComponent};
