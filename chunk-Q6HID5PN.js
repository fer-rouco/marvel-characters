import{a as w,c as C}from"./chunk-6LYXUJPA.js";import{D as g,E as h,F as b,H as S,I as y,P as D,Q as j,T as L,d as m,e as o,g as l,k as p,l as s,m as u,n as a,u as d,v as f,w as v}from"./chunk-TRWCNY5J.js";var F=(()=>{let e=class e extends w{constructor(n,t){super(n),this.http=n,this.sessionService=t}getBaseUrl(){return"service-log"}getAll(){return this.get(`/${this.sessionService.getCurrentUserName()}`)}};e.\u0275fac=function(t){return new(t||e)(o(S),o(C))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"any"});let i=e;return i})();var U=()=>({icon:"list.svg",to:"/character-list"}),k=i=>[i],G=(()=>{let e=class e{constructor(n){this.serviceLogService=n,this.columnDefinitions=[],this.eventList=p(void 0)}ngOnInit(){this.columnDefinitions=[{attr:"userName",label:"User"},{attr:"path",label:"Service"},{attr:"date",label:"Date"},{attr:"time",label:"Time"}],this.serviceLogService.getAll().subscribe(n=>{this.eventList.set(n.map(t=>{let{id:r,path:I,userName:T,dateTime:M}=t,c=new Date(M);return{id:r,path:I,userName:T,date:c.toLocaleDateString(navigator.languages[0],{day:"2-digit",month:"2-digit",year:"numeric"}),time:c.toLocaleTimeString()}}))})}};e.\u0275fac=function(t){return new(t||e)(u(F))},e.\u0275cmp=l({type:e,selectors:[["character-event-list"]],standalone:!0,features:[g],decls:4,vars:6,consts:[[1,"row"],[1,"col"],["title","Event List",3,"actions"],[3,"columnDefinitions","rowObjects"]],template:function(t,r){t&1&&(d(0,"div",0)(1,"div",1)(2,"panel",2),v(3,"custom-table",3),f()()()),t&2&&(s(2),a("actions",b(4,k,h(3,U))),s(1),a("columnDefinitions",r.columnDefinitions)("rowObjects",r.eventList()))},dependencies:[L,D,j,y]});let i=e;return i})();export{G as CharacterEventListComponent};
